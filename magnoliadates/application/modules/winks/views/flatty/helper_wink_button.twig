<button id="btn-wink-{{ wink_button_rand }}"
        data-user-id="{{ partner_id }}" data-is-pending="{{ is_pending }}" data-is-new="{{ is_new }}"
        class="btn {% if is_pending %}btn-disabled{% else %}btn-primary{% endif %} btn-wink{% if wink_back %}-back{% endif %} form-control">
    {% if wink_back %}
        {% helper lang.l('wink_back', 'winks') %}
    {% else %}
        {% helper lang.l('wink', 'winks') %}
    {% endif %}
</button><br />
<script>
    $(function () {
        loadScripts(
                ["{% helper utils.jscript('winks', 'winks.js', 'path') %}"],
                function () {
                    winksObj = new winks({
                        siteUrl: site_url,
                        titleWink: "{% helper lang.l('wink', 'winks', '', 'js') %}",
                        titleWinkBack: "{% helper lang.l('wink_back', 'winks', '', 'js') %}",
                        errIsPending: "{% helper lang.l('error_is_pending', 'winks', '', 'js') %}",
                        errIsOnList: "{% helper lang.l('error_is_on_list', 'winks', '', 'js') %}",
                        succIgnored: "{% helper lang.l('msg_ignored', 'winks', '', 'js') %}",
                        succWinked: "{% helper lang.l('msg_winked', 'winks', '', 'js') %}",
                        succResponded: "{% helper lang.l('msg_responded', 'winks', '', 'js') %}",
                        wink_button_rand: '{{ wink_button_rand }}',
                        noWinks: '#btn-wink-{{ wink_button_rand }}'
                    });
                },
                'winksObj',
                {async: false}
                );
    });
</script>
